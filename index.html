<script>
    const qrForm = document.getElementById('qrForm');
    const qrCodeImage = document.getElementById('qrCodeImage');

    qrForm.addEventListener('submit', async (event) => {
        event.preventDefault();

        const text = document.getElementById('text').value;

        const response = await fetch('/generate-qr', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ text }),
        });

        if (response.ok) {
            const { qrCodeUrl } = await response.json();
            qrCodeImage.src = qrCodeUrl; // Afișează codul QR
        } else {
            alert('A apărut o eroare la generarea codului QR!');
        }
    });
</script>
